  pipeline {
     agent any
     stages { 
        stage('deploy eureka'){
          steps{
            dir('MicroServicios/eurekaserver'){
                sh 'mvn package'
                sh 'cp target/eureka.jar /eureka-deploy'
                sh 'docker exec eureka java -jar eureka.jar'
            }
          }
        }
        stage('deploy gateway'){
          steps{
            dir('MicroServicios/GatewayService'){
                sh 'mvn package'
                sh 'cp target/gateway.jar /eureka-deploy'
                sh 'docker exec eureka java -jar eureka.jar'
            }
          }
        }
        stage('deploy users') {  
          steps{
              dir('MicroServicios/UserService'){
                sh 'mvn package'
                sh 'cp target/users.war /users-deploy'
              }
            }
        }
        stage('deploy providers') {
            steps{
              dir('MicroServicios/ProviderService'){
                sh 'mvn package'
                sh 'cp target/providers.war /users-deploy'
              }
            }
        }
        stage('deploy tourists') {
            steps{
              dir('MicroServicios/TouristService'){
                sh 'mvn package'
                sh 'cp target/tourists.war /users-deploy'
              }
            }
        }
        stage('deploy shopping') {
            steps{
              dir('MicroServicios/ShoppingService'){
                sh 'mvn package'
                sh 'cp target/shopping.war /client-services-deploy'
              }
            }
        }
        stage('deploy questions') {
            steps{
              dir('MicroServicios/QuestionsService'){
                sh 'mvn package'
                sh 'cp target/questions.war /client-services-deploy'
              }
            }
        }
        stage('deploy search') {
            steps{
              dir('MicroServicios/SearchService'){
                sh 'mvn package'
                sh 'cp target/search.war /tourism-services-deploy'
              }
            }
        }
        stage('deploy external') {
            steps{
              dir('MicroServicios/ExternalServices'){
                sh 'mvn package'
                sh 'cp target/external.war /tourism-services-deploy'
              }
            }
        }
        stage('deploy toursim services') {
            steps{
              dir('MicroServicios/TourismServicesService'){
                sh 'mvn package'
                sh 'cp target/tourism-services.war /tourism-services-deploy'
              }
            }
        }
        stage('deploy reviews') {
            steps{
              dir('MicroServicios/ReviewsService'){
                sh 'mvn package'
                sh 'cp target/reviews.war /client-services-deploy'
              }
            }
        }
    }
}
