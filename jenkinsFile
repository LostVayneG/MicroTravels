pipeline {
  agent any
  stages { 
        stage('deploy eureka'){
          steps{
            dir('eurekaserver'){
                sh 'mvn package'
                sh 'cp target/eureka.war /entrypoint-deploy'
            }
          }
        }
        stage('deploy gateway'){
          steps{
            dir('GatewayService'){
                sh 'mvn package'
                sh 'cp target/gateway.war /entrypoint-deploy'
            }
          }
        }
        stage('deploy users') {
            steps{
              dir('UserService'){
                sh 'mvn package'
                sh 'cp target/users.war /users-deploy'
              }
            }
        }
        stage('deploy providers') {
            steps{
              dir('ProvidersService'){
                sh 'mvn package'
                sh 'cp target/providers.war /users-deploy'
              }
            }
        }
        stage('deploy tourists') {
            steps{
              dir('TouristService'){
                sh 'mvn package'
                sh 'cp target/tourists.war /users-deploy'
              }
            }
        }
        stage('deploy shopping') {
            steps{
              dir('ShoppingService'){
                sh 'mvn package'
                sh 'cp target/shopping.war /client-services-deploy'
              }
            }
        }
        stage('deploy questions') {
            steps{
              dir('QuestionsService'){
                sh 'mvn package'
                sh 'cp target/questions.war /client-services-deploy'
              }
            }
        }
        stage('deploy reviews') {
            steps{
              dir('ReviewsService'){
                sh 'mvn package'
                sh 'cp target/reviews.war /client-services-deploy'
              }
            }
        }
        stage('deploy external') {
            steps{
              dir('ExternalServices'){
                sh 'mvn package'
                sh 'cp target/external.war /tourism-services-deploy'
              }
            }
        }
        stage('deploy search') {
            steps{
              dir('SearchService'){
                sh 'mvn package'
                sh 'cp target/search.war /tourism-services-deploy'
              }
            }
        }
        stage('deploy toursim services') {
            steps{
              dir('TourismServicesService'){
                sh 'mvn package'
                sh 'cp target/tourism-services.war /tourism-services-deploy'
              }
            }
        }
    }
}
